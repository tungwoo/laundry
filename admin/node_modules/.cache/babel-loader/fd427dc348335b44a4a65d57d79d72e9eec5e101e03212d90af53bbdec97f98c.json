{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      loading: false,\n      form: this.$form.createForm(this)\n    };\n  },\n  methods: {\n    handleSubmit: function handleSubmit(e) {\n      var _this = this;\n      e.preventDefault();\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          _this.loading = true;\n          _this.$store.dispatch('login', values).then(function () {\n            _this.$router.push({\n              path: '/'\n            });\n          })[\"catch\"](function (error) {\n            _this.$message.error('登录失败');\n            console.error(error);\n          })[\"finally\"](function () {\n            _this.loading = false;\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","loading","form","$form","createForm","methods","handleSubmit","e","_this","preventDefault","validateFields","err","values","$store","dispatch","then","$router","push","path","error","$message","console"],"sources":["src/views/login/index.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-form\">\n      <div class=\"login-logo\">\n        <img src=\"@/assets/logo.png\" alt=\"Logo\">\n        <h1>洗衣店管理系统</h1>\n      </div>\n      <a-form :form=\"form\" @submit=\"handleSubmit\">\n        <a-form-item>\n          <a-input\n            v-decorator=\"[\n              'username',\n              { rules: [{ required: true, message: '请输入用户名!' }] }\n            ]\"\n            placeholder=\"用户名\"\n            size=\"large\"\n          >\n            <a-icon slot=\"prefix\" type=\"user\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item>\n          <a-input-password\n            v-decorator=\"[\n              'password',\n              { rules: [{ required: true, message: '请输入密码!' }] }\n            ]\"\n            placeholder=\"密码\"\n            size=\"large\"\n          >\n            <a-icon slot=\"prefix\" type=\"lock\" />\n          </a-input-password>\n        </a-form-item>\n        <a-form-item>\n          <a-button type=\"primary\" html-type=\"submit\" size=\"large\" block :loading=\"loading\">\n            登录\n          </a-button>\n        </a-form-item>\n      </a-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      loading: false,\n      form: this.$form.createForm(this)\n    }\n  },\n  methods: {\n    handleSubmit(e) {\n      e.preventDefault()\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          this.loading = true\n          this.$store.dispatch('login', values)\n            .then(() => {\n              this.$router.push({ path: '/' })\n            })\n            .catch(error => {\n              this.$message.error('登录失败')\n              console.error(error)\n            })\n            .finally(() => {\n              this.loading = false\n            })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login-container {\n  height: 100vh;\n  background: url(\"@/assets/login-bg.svg\") no-repeat center center;\n  background-size: cover;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.login-form {\n  width: 360px;\n  padding: 32px;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.login-logo {\n  text-align: center;\n  margin-bottom: 32px;\n  \n  img {\n    width: 64px;\n    height: 64px;\n  }\n  \n  h1 {\n    margin-top: 16px;\n    font-size: 24px;\n    color: rgba(0, 0, 0, 0.85);\n  }\n}\n</style> "],"mappings":";;AA2CA;EACAA,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,IAAA,OAAAC,KAAA,CAAAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA,WAAAA,aAAAC,CAAA;MAAA,IAAAC,KAAA;MACAD,CAAA,CAAAE,cAAA;MACA,KAAAP,IAAA,CAAAQ,cAAA,WAAAC,GAAA,EAAAC,MAAA;QACA,KAAAD,GAAA;UACAH,KAAA,CAAAP,OAAA;UACAO,KAAA,CAAAK,MAAA,CAAAC,QAAA,UAAAF,MAAA,EACAG,IAAA;YACAP,KAAA,CAAAQ,OAAA,CAAAC,IAAA;cAAAC,IAAA;YAAA;UACA,WACA,WAAAC,KAAA;YACAX,KAAA,CAAAY,QAAA,CAAAD,KAAA;YACAE,OAAA,CAAAF,KAAA,CAAAA,KAAA;UACA,aACA;YACAX,KAAA,CAAAP,OAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}